{% extends 'base.html' %}

{% block title %}
Регистрация
{% endblock %}

{% block content %}
<main class="register-main">
    <div class="circle"></div>
    <div class="register-form-container">
        <form action="{% url 'reg' %}" method="post">
            {% csrf_token %}
            <h1 class="register-form__title">
                Регистрация
            </h1>
            {{ form.non_field_errors }}
            <!--ошибка если поля пустые-->
            {{ form.username.errors }}
            {{ form.first_name.errors }}
            {{ form.last_name.errors }}
            {{ form.email.errors }}
            {{ form.password1.errors }}
            {{ form.password2.errors }}
            {%if messages%}
            {%for message in messages%}
            <!--вывод messages-->
            {%if message.tags == 'error'%}
            <div class="alert alert-danger" role="alert">
                {{message}}
            </div>
            {%else%}
            <div class="alert alert-{{message.tags}}" role="alert">
                {{message}}
            </div>
            {% endif %}
            {%endfor%}
            {%endif%}
            <!---->
            <div class="register-form__fields">
                <div class="register-form__field">
                    {{form.username}}
                </div>
                <div class="register-form__field">
                    {{form.first_name}}
                </div>
                <div class="register-form__field">
                    {{form.last_name}}
                </div>
                <div class="register-form__field">
                    {{form.email}}
                </div>
                <div class="register-form__field">
                    {{form.password1}}
                </div>
                <div class="register-form__field">
                    {{form.password2}}
                </div>
            </div>
            <div class="register-form__buttons">
                <button class="regitser-form__btn" type="submit">Готово</button>
                <div class="register-form__divider">или</div>
                <a href="{% url 'login' %}" class="regitser-form__btn regitser-form__btn--sign">Войти</a>
            </div>
        </form>
    </div>
</main>
{% endblock %}